<!--
 * @Author: your name
 * @Date: 2021-06-17 10:59:04
 * @LastEditTime: 2021-06-17 11:47:07
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \yodn\ajax\cors\index.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cors</title>
</head>
<style>
    #result{
        width: 300px;
        height: 100px;
        border: solid 1px #fba;
    }
</style>
<body>
    <div id="result"></div>
    <button>点击获取cors</button>

<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.js"></script>    
<script type="text/javascript">
    const result = document.querySelector('#result')
    const btn = document.querySelector('button')
    btn.onclick=function(){
        // const x=new XMLHttpRequest()
        // x.open('GET','http://127.0.0.1:8000/cors')
        // x.send()
        // x.onreadystatechange=function(){
        //     if(x.readyState===4){
        //         if(x.status>=200&&x.status<300){
        //             console.log(x)
        //             result.innerHTML=x.response
        //         }
        //     }
        // }
        // $.ajax({
        //     url:'http://127.0.0.1:8000/cors',
        //     type:'get',
        //     success:function(data){
        //         result.innerHTML=data+'+jquery'
        //     }
        // })
        // axios.get('http://127.0.0.1:8000/cors')
        // .then((response)=>{
        //     console.log(response)
        //     result.innerHTML=response.data+'+axios'
        // })
        // axios({
        //     url:'http://127.0.0.1:8000/cors',
        //     type:'get'
        // })
        // .then((response) => {
        //     result.innerHTML=response.data+'+axios'
        // }).catch((err) => {
            
        // });
        fetch('http://127.0.0.1:8000/cors',{
            method:'get'
        })
        .then((res)=>{
            return res.text()
        }).then((re)=>{
            result.innerHTML=re+'+fetch'
        })
    }
</script>
</body>
</html>