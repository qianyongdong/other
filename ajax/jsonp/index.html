<!--
 * @Author: your name
 * @Date: 2021-06-15 12:01:04
 * @LastEditTime: 2021-06-17 10:53:48
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \yodn\ajax\jsonp\index.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsonp</title>
</head>
<style>
    #result{
        width: 300px;
        height: 100px;
        border: solid 1px #fba;
    }
</style>
<body>
    <div id="result"></div>
    用户名：<input type="text" name="" id="username">
    <p></p>
    <button>点击获取jquery-jsonp</button>

    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script>
    //     function handle(data) {  
    //      const result = document.getElementById('result')
    //      result.innerHTML=data.name
    //  }
        // const input=document.getElementById('username')
        // const p=document.querySelector('p')
        // input.onblur=function(){
        //     let username = this.value
        //     // console.log(username)
        //     const script =document.createElement('script')
        //     script.src='http://127.0.0.1:8000/check-username'
        //     document.body.appendChild(script)
        // }
        
        // function handle(data) {
        //     input.style.border='solid 1px #f00'
        //     p.innerHTML=data.msg
        // }

        const button = document.querySelector('button')
        button.onclick=()=>{
            $.getJSON('http://127.0.0.1:8000/jquery-jsonp?callback=?',function (data) {
                $('#result').html(`{
                    name:${data.name},
                    city:${data.city}
                }`)
              })
        }
     </script>
    <!-- <script src="http://127.0.0.1:5500/ajax/jsonp/app.js"></script> -->
    <!-- <script src="http://127.0.0.1:8000/check-username"></script> -->
</body>
</html>